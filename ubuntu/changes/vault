vault (0.11.4-1) trusty; urgency=low

 * core: HA lock file is no longer copied during operator migrate [GH-5503]. We've categorized this as a change, but generally this can be considered just a bug fix, and no action is needed.
 * Transit Key Trimming: Keys in transit secret engine can now be trimmed to remove older unused key versions.
 * Web UI support for KV Version 2. Browse, delete, undelete and destroy individual secret versions in the UI.
 * Azure Existing Service Principal Support: Credentials can now be generated against an existing service principal.
 * core: Add last WAL in leader/health output for easier debugging [GH-5523]
 * identity: Identity names will now be handled case insensitively by default. This includes names of entities, aliases and groups [GH-5404]
 * secrets/aws: Added role-option max_sts_ttl to cap TTL for AWS STS credentials [GH-5500]
 * secret/database: Allow Cassandra user to be non-superuser so long as it has role creation permissions [GH-5402]
 * secret/radius: Allow setting the NAS Identifier value in the generated packet [GH-5465]
 * secret/ssh: Allow usage of JSON arrays when setting zero addresses [GH-5528]
 * secret/transit: Allow trimming unused keys [GH-5388]
 * ui: Support KVv2 [GH-5547], [GH-5563]
 * ui: Allow viewing and updating Vault license via the UI
 * ui: Onboarding will now display your progress through the chosen tutorials
 * ui: Dynamic secret backends obfuscate sensitive data by default and visibility is toggleable
 * agent: Fix potential hang during agent shutdown [GH-5026]
 * auth/ldap: Fix listing of users/groups that contain slashes [GH-5537]
 * core: Fix memory leak during some expiration calls [GH-5505]
 * core: Fix generate-root operations requiring empty otp to be provided instead of an empty body [GH-5495]
 * identity: Remove lookup check during alias removal from entity [GH-5524]
 * secret/pki: Fix TTL/MaxTTL check when using sign-verbatim [GH-5549]
 * secret/pki: Fix regression in 0.11.2+ causing the NotBefore value of generated certificates to be set to the Unix epoch if the role value was not set, instead of using the default of 30 seconds [GH-5481]
 * storage/mysql: Use varbinary instead of varchar when creating HA tables [GH-5529]

 -- Gavin M. Roy <gavinr@aweber.com>  Thu, 25 Oct 2018 14:00:00 -0400

vault (0.8.3-1) trusty; urgency=low

 * AWS EC2 client nonce behavior: The client nonce generated by the backend that gets returned along with the authentication response will be audited in plaintext. If this is undesired, the clients can choose to supply a custom nonce to the login endpoint. The custom nonce set by the client will from now on, not be returned back with the authentication response, and hence not audit logged.
 * SSH CA role read changes: When reading back a role from the ssh backend, the TTL/max TTL values will now be an integer number of seconds rather than a string. This better matches the API elsewhere in Vault.
 * api: Add ability to set custom headers on each call [GH-3394]
 * command/server: Add config option to disable requesting client certificates [GH-3373]
 * physical/file: Use 700 as permissions when creating directories. The files themselves were 600 and are all encrypted, but this doesn't hurt.
 * secret/cassandra: Work around Cassandra ignoring consistency levels for a user listing query [GH-3469]
 * secret/pki: Allow entering URLs for pki as both comma-separated strings and JSON arrays [GH-3409]
 * secret/ssh: Role TTL/max TTL can now be specified as either a string or an integer [GH-3507]
 * secret/transit: Sign and verify operations now support a none hash algorithm to allow signing/verifying pre-hashed data [GH-3448]
 * secret/database: Add the ability to glob allowed roles in the Database Backend [GH-3387]
 * api: Fix panic when setting a custom HTTP client but with a nil transport [GH-3437]
 * auth/radius: Fix logging in in some situations [GH-3461]
 * physical/etcd3: Fix some listing issues due to how etcd3 does prefix matching [GH-3406]
 * physical/file: Fix listing when underscores are the first component of a path [GH-3476]
 * plugins: Allow response errors to be returned from backend plugins [GH-3412]

 -- Gavin M. Roy <gavinr@aweber.com>  Tue, 31 Oct 2017 10:00:00 -0400

vault (0.8.2-3) trusty; urgency=low

* Fix the init.d script / upstart naming

 -- Gavin M. Roy <gavinr@aweber.com>  Thu, 14 Sep 2017 12:00:00 -0400

vault (0.8.2-2) trusty; urgency=low

* Fix the init script

 -- Gavin M. Roy <gavinr@aweber.com>  Tue, 12 Sep 2017 12:00:00 -0400

vault (0.8.2-1) trusty; urgency=low

 * In prior versions of Vault, if authenticating via AWS IAM and requesting a periodic token, the period was not properly respected. This could lead to tokens expiring unexpectedly, or a token lifetime being longer than expected. Upon token renewal with Vault 0.8.2 the period will be properly enforced.
 * vault ssh users should supply -mode and -role to reduce the number of API calls. A future version of Vault will mark these optional values are required. Failure to supply -mode or -role will result in a warning.
 * Vault plugins will first briefly run a restricted version of the plugin to fetch metadata, and then lazy-load the plugin on first request to prevent crash/deadlock of Vault during the unseal process. Plugins will need to be built with the latest changes in order for them to run properly.
 * Lazy Lease Loading: On startup, Vault will now load leases from storage in a lazy fashion (token checks and revocation/renewal requests still force an immediate load). For larger installations this can significantly reduce downtime when switching active nodes or bringing Vault up from cold start.
 * SSH CA Login with vault ssh: vault ssh now supports the SSH CA backend for authenticating to machines. It also supports remote host key verification through the SSH CA backend, if enabled.
 * Signing of Self-Issued Certs in PKI: The pki backend now supports signing self-issued CA certs. This is useful when switching root CAs.
 * audit/file: Allow specifying stdout as the file_path to log to standard output [GH-3235]
 * auth/aws: Allow wildcards in bound_iam_principal_id [GH-3213]
 * auth/okta: Compare groups case-insensitively since Okta is only case-preserving [GH-3240]
 * auth/okta: Standarize Okta configuration APIs across backends [GH-3245]
 * cli: Add subcommand autocompletion that can be enabled with vault -autocomplete-install [GH-3223]
 * cli: Add ability to handle wrapped responses when using vault auth. What is output depends on the other given flags; see the help output for that command for more information. [GH-3263]
 * core: TLS cipher suites used for cluster behavior can now be set via cluster_cipher_suites in configuration [GH-3228]
 * core: The plugin_name can now either be specified directly as part of the parameter or within the config object when mounting a secret or auth backend via sys/mounts/:path or sys/auth/:path respectively [GH-3202]
 * core: It is now possible to update the description of a mount when mount-tuning, although this must be done through the HTTP layer [GH-3285]
 * secret/databases/mongo: If an EOF is encountered, attempt reconnecting and retrying the operation [GH-3269]
 * secret/pki: TTLs can now be specified as a string or an integer number of seconds [GH-3270]
 * secret/pki: Self-issued certs can now be signed via pki/root/sign-self-issued [GH-3274]
 * storage/gcp: Use application default credentials if they exist [GH-3248]
 * auth/aws: Properly use role-set period values for IAM-derived token renewals [GH-3220]
 * auth/okta: Fix updating organization/ttl/max_ttl after initial setting [GH-3236]
 * core: Fix PROXY when underlying connection is TLS [GH-3195]
 * core: Policy-related commands would sometimes fail to act case-insensitively [GH-3210]
storage/consul: Fix parsing TLS configuration when using a bare IPv6 address [GH-3268]
 * plugins: Lazy-load plugins to prevent crash/deadlock during unseal process. [GH-3255]
 * plugins: Skip mounting plugin-based secret and credential mounts when setting up mounts if the plugin is no longer present in the catalog. [GH-3255]

 -- Gavin M. Roy <gavinr@aweber.com>  Thu, 1 Sep 2017 12:00:00 -0400

vault (0.8.1-1) trusty; urgency=low

  * New upstream release.

 -- Gavin M. Roy <gavinr@aweber.com>  Thu, 1 Sep 2017 12:00:00 -0400
